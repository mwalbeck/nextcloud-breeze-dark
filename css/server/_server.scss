/***
 * @copyright Copyright (c) 2017, Magnus Walbeck <mw@mwalbeck.org>
 *
 * @license GNU AGPL version 3 or any later version, see COPYING file for more.
 */

/* Header -------------------------------------------------------------------- */

#settings #expand:hover #expandDisplayName,
#settings #expand:focus #expandDisplayName,
#settings #expand:active #expandDisplayName,
#settings #expand:hover .avatardiv,
#settings #expand:focus .avatardiv,
#settings #expand:active .avatardiv {
    border: unset;
}

#body-login #header {
    background-color: unset !important;
}

/* Menues -------------------------------------------------------------------- */

.menu,
.popovermenu,
.bubble,
.popover,
.app-navigation-entry-menu,
.v-popper__popper .v-popper__inner {
    border: 1px solid var(--color-border);
}

.bubble::after,
.app-navigation-entry-menu::after,
.menu::after,
.popovermenu::after {
    border-bottom-color: var(--color-border) !important;
}

.popover__arrow {
    border-color: var(--color-border) !important;
}

// Menu used for devices & sessions under Settings > Personal > Security
.action-item__menu {
    border: 1px solid var(--color-border);

    .action-item__menu_arrow {
        border-bottom-color: var(--color-border) !important;
    }
}

/* Search ------------------------------------------------------------------- */

.header-menu__wrapper {
    border: 1px solid var(--color-border);
}

.header-menu__carret {
    border-bottom-color: var(--color-border) !important;
}

.unified-search__form-reset {
    background-color: transparent !important;
}

.unified-search__result-icon img[src$="integration_discourse/img/app-dark.svg"] {
    filter: invert(95%);
}

/* File picker --------------------------------------------------------------- */

.oc-dialog {
    border: 1px solid var(--color-border);

    .filepicker_element_selected,
    #oc-dialog-filepicker-content .filepicker_element_selected {
        background-color: var(--color-primary);
        color: var(--color-primary-text);
    }

    .fileexists label,
    .fileexists .conflict .filename {
        color: var(--color-main-text) !important;
    }
}

/* Settings ------------------------------------------------------------------ */

// Image cropper
// For cropping images, found under personal settings for adding avatar
#cropper .inner-container {
    background-color: var(--color-main-background) !important;
    border: 1px solid var(--color-border);
    color: var(--color-main-text) !important;
}

// Section Container
// Primarily seems to be used under settings
.followupsection {
    color: var(--color-main-text) !important;
}

// Link Buttons
// Settings > Administration > Support
.link-button {
    background-color: var(--color-main-background) !important;
    border: 1px solid var(--color-border) !important;
    color: var(--color-main-text) !important;

    &:hover,
    &.button:hover {
        border-color: var(--color-primary-element) !important;
        color: var(--color-main-text) !important;
    }

    &:active,
    &:focus {
        background-color: var(--color-primary) !important;
        border-color: var(--color-primary-element) !important;
        color: var(--color-main-text) !important;
    }
}

// Profile
.preview-card .preview-card__footer {
    border: 1px solid var(--color-border);
    border-bottom-left-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius);
    border-top: unset;
}

.profile .user-actions .profile__primary-action-button img[src$="spreed/img/app-dark.svg"],
.profile .user-actions .user-actions__other a {
    filter: invert(95%);
}

// User administration
#addgroup {
    // Remove icon spam in addgroup form under user section
    button.icon-confirm,
    button.icon-close {
        background-image: none !important;
    }
}

// Breeze Dark settings
.breezedark-admin p {
    margin-top: 1em;
}

/* Tooltips ----------------------------------------------------------------- */

.tooltip,
.vue-tooltip {
    filter: none !important;

    .tooltip-inner {
        border: 1px solid var(--color-border);
    }

    &[x-placement^="right"],
    &.right .tooltip-arrow {
        border-right-color: var(--color-border) !important;
    }

    &[x-placement^="left"],
    &.left .tooltip-arrow {
        border-left-color: var(--color-border) !important;
    }

    &[x-placement^="bottom"] .tooltip-arrow,
    &.bottom .tooltip-arrow,
    &.bottom-left .tooltip-arrow,
    &.bottom-right .tooltip-arrow {
        border-bottom-color: var(--color-border) !important;
    }

    &[x-placement^="top"] .arrow,
    &[x-placement^="top"] .tooltip-arrow,
    &.top .arrow,
    &.top .tooltip-arrow,
    &.top-left .arrow,
    &.top-left .tooltip-arrow,
    &.top-right .arrow,
    &.top-right .tooltip-arrow {
        border-top-color: var(--color-border) !important;
    }
}

/* Toasts ------------------------------------------------------------------- */

.toastify.dialogs {
    border: 1px solid var(--color-border);
}

/* App Store ---------------------------------------------------------------- */

.app-level .official {
    border-color: var(--color-success);
}
