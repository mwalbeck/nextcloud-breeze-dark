/***
 * @copyright Copyright (c) 2017, Magnus Walbeck <mw@mwalbeck.org>
 *
 * @license GNU AGPL version 3 or any later version, see COPYING file for more.
 */

/* Apps that haven't moved to variables for icons ---------------------------- */

// OnlyOffice
.icon-onlyoffice-open,
.icon-onlyoffice-convert,
.icon-onlyoffice-download {
    filter: invert(95%);
}

// Collabora
.collabora.action-edit img[src$="/core/img/actions/rename.svg"] {
    filter: invert(95%);
}

/* CSS tricks to change icon color ------------------------------------------- */

.icon-collapse {
    color: var(--color-icon) !important;
}

.app-settings {
    #apps-list .section .app-image .app-icon[*|href$="circles.svg"],
    #app-sidebar #app-details-view image.app-icon[*|href$="circles.svg"] {
        filter: invert(1);
    }

    .infoicon {
        filter: invert(95%);
    }
}

/* Random CSS fixes for icons ----------------------------------------------- */

// Fix avatars with dot menu being covered in dots. The dot icon is being handled
// by vue iconfont instead
.avatardiv--with-menu .icon-more {
    background-image: none !important;
}

/* CSS to handle inverting icons when a Theming app colour that has a bad 
   contrast with white is used ------------------------------------------------*/

// Header appmenu icons
body:not([data-dashboard-background]) #appmenu.inverted svg image {
    filter: none;
}

.header-right .notifications-button img[src$="notifications-dark.svg"],
.header-right .notifications-button img[src$="notifications-new-dark.svg"] {
    filter: invert(1);
}

.dashboard--dark .header-right .notifications-button img[src$="notifications-new-dark.svg"] {
    filter: invert(1) hue-rotate(180deg);
}

body.dashboard--inverted .header-right > div:not(#settings) > :first-child {
    filter: invert(0) hue-rotate(180deg) !important;
}

body.dashboard--inverted.dashboard--dark .header-right > div:not(#settings) > :first-child {
    filter: invert(1) hue-rotate(180deg) !important;
}
