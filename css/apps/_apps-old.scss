/***
 * @copyright Copyright (c) 2017, Magnus Walbeck <mw@mwalbeck.org>
 *
 * @license GNU AGPL version 3 or any later version, see COPYING file for more.
 */

/* App Navigation ----------------------------------------------------------- */

#app-navigation:not(.vue) {
    > ul > li > a,
    > li > a,
    > ul > li > ul > li > a {
        opacity: 1;

        &:hover,
        &:hover + div.app-navigation-entry-utils,
        &:hover + div.app-navigation-entry-edit + div.app-navigation-entry-utils {
            background-color: var(--color-background-hover);
        }

        &.active:hover {
            background-color: var(--color-primary-element);
        }
    }

    .collapsible:hover {
        &::before {
            background-color: unset;
        }

        > a {
            background-image: none;
        }
    }

    .active {
        background-color: var(--color-primary-element);
        color: var(--color-text-active);
        font-weight: 600;

        > a {
            color: var(--color-text-active);
            font-weight: 600;
        }
    }

    input {
        background-color: var(--color-background-darker);
    }

    select {
        background-color: var(--color-main-background) !important;
    }

    > ul > li > .app-navigation-entry-bullet + a:hover,
    > ul > li > ul > li > .app-navigation-entry-bullet + a:hover {
        background: var(--color-background-hover) !important;
    }
}

.app-navigation-entry-menu {
    li > button {
        border-radius: unset;
        color: var(--color-main-text);

        &:hover {
            background-color: var(--color-background-hover);
        }
    }
}

/* Misc --------------------------------------------------------------------- */

// Fix share icon in nav not being hidden on hover, because of maunal icon override to prevent black icons
#app-navigation:not(.vue) .collapsible:hover > a {
    background-image: none !important;
}

// CodeMirror

.CodeMirror {
    background-color: var(--color-main-background) !important;
    color: var(--color-main-text) !important;

    .cm-formatting {
        opacity: 0.5;
    }

    .cm-link {
        color: var(--color-text-link) !important;
    }

    .cm-s-easymde .cm-url,
    .cm-s-easymde .cm-string {
        color: var(--color-text-inactive) !important;
    }

    .CodeMirror-selected {
        background-color: var(--color-main-background) !important;
    }

    .CodeMirror-selectedtext {
        background-color: var(--color-text-selection) !important;
        color: var(--color-main-text);
    }

    .CodeMirror-cursor {
        border-left-color: var(--color-main-text);
    }
}

// CodeMirror Markdown preview
// For Deck and Notes

#description-preview,
.note-preview {
    pre {
        background-color: var(--color-background-darker) !important;
        border: 1px solid var(--color-border);
        border-radius: 3px;
        padding: 16px !important;
    }

    code {
        background-color: var(--color-background-darker) !important;
    }

    blockquote {
        border-left: 4px solid var(--color-border);
        color: var(--color-main-text);
        font-style: italic;
        padding-left: 2ex;
    }
}
